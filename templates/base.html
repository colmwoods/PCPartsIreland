{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{% block title %}PC Parts Ireland | GPUs, CPUs, RAM & Gaming Hardware{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <meta name="description"
        content="{% block meta_description %}Buy PC parts in Ireland including GPUs, CPUs, RAM, SSDs and gaming hardware. Fast delivery nationwide and competitive prices.{% endblock %}">

    <meta name="robots" content="index, follow">

    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <meta name="keywords"
        content="PC parts Ireland, buy GPU Ireland, graphics cards Ireland, gaming PC components Ireland, custom PC parts Ireland, computer hardware Ireland, NVIDIA graphics cards Ireland, AMD Radeon Ireland, RTX 4060 Ireland, RTX 4070 Ireland, Intel processors Ireland, AMD Ryzen Ireland, gaming CPU Ireland, DDR4 RAM Ireland, DDR5 RAM Ireland, gaming memory Ireland, NVMe SSD Ireland, M.2 SSD Ireland, gaming SSD Ireland">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer">

    {% block extra_css %}{% endblock %}
</head>

<body>
    {% include "includes/top-header.html" %}

    <nav class="navbar navbar-expand-xxl navbar-light bg-light position-relative">
        <div class="container-fluid px-4">

            <a class="navbar-brand" href="{% url 'home' %}">
                <img src="{% static 'images/pcpartsireland.jpg' %}" height="40">
            </a>

            <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#main-nav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="main-nav">
                <ul class="navbar-nav">
                    {% include "includes/main-nav.html" %}
                </ul>
            </div>

        </div>
    </nav>


    {% if messages %}
    <div id="toast-container" class="toast-container position-fixed top-0 end-0 p-3 mt-5 pt-4">
        {% for message in messages %}
        {% with message.level as level %}
        {% if level == 40 %}
        {% include 'includes/toasts/toast_error.html' %}
        {% elif level == 30 %}
        {% include 'includes/toasts/toast_warning.html' %}
        {% elif level == 25 %}
        {% include 'includes/toasts/toast_success.html' %}
        {% else %}
        {% include 'includes/toasts/toast_info.html' %}
        {% endif %}
        {% endwith %}
        {% endfor %}
    </div>
    {% endif %}

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-light py-4">
        <div class="container text-center">
            <div class="mb-2">
                <a href="{% url 'contact' %}" class="text-muted mx-2">
                    Contact
                </a>
                |
                <a href="{% url 'return_request' %}" class="text-muted mx-2">
                    Returns
                </a>
                |
                <a href="{% url 'faq' %}" class="text-muted mx-2">
                    FAQ
                </a>
                |
                <a href="#" class="text-muted mx-2" onclick="openNewsletter(event)">
                    Newsletter
                </a>
            </div>

            <p class="mb-0 text-muted">
                &copy; 2026 PC Parts Ireland
            </p>
        </div>
    </footer>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    {% block extra_js %}{% endblock %}

    {% block postloadjs %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var toastElList = [].slice.call(document.querySelectorAll('.toast'))
            var toastList = toastElList.map(function (toastEl) {
                return new bootstrap.Toast(toastEl).show();
            });
        });
    </script>
    {% endblock %}

    <script>
        document.addEventListener("DOMContentLoaded", function () {

            const searchInput = document.getElementById("search-input");
            const suggestionsBox = document.getElementById("search-suggestions");
            const searchForm = document.getElementById("search-form");

            if (!searchInput) return;  // prevents errors on pages without search

            searchInput.addEventListener("keyup", function (e) {

                let query = this.value;

                if (e.key === "Enter") {
                    suggestionsBox.innerHTML = "";
                    return;
                }

                if (query.length < 2) {
                    suggestionsBox.innerHTML = "";
                    return;
                }

                fetch(`/products/search-suggestions/?q=${query}`)
                    .then(response => response.json())
                    .then(data => {

                        suggestionsBox.innerHTML = "";

                        data.forEach(item => {
                            suggestionsBox.innerHTML += `
    <a href="${item.url}" 
       class="list-group-item list-group-item-action d-flex align-items-center">

        <img src="${item.image_url}" 
             style="width:40px; height:40px; object-fit:cover;" 
             class="me-2 rounded">

        <span>${item.name}</span>
    </a>
`;

                        });
                    });
            });

            searchForm.addEventListener("submit", function () {
                suggestionsBox.innerHTML = "";
            });

        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <div id="newsletterModal" class="newsletter-overlay" style="display:none;">
        <div class="newsletter-box bg-white p-5 shadow text-center position-relative">
            <button class="newsletter-close" onclick="closeNewsletter()">Ã—</button>

            <h1 class="display-6 logo-font text-black mb-3">
                Join PCPartsIreland
            </h1>

            <p class="lead text-muted mb-4">
                Get notified about GPU restocks, hardware drops,
                and exclusive deals.
            </p>

            <form
                action="https://pcpartsireland.us16.list-manage.com/subscribe/post?u=46fe288fc56b228d74d7e7d16&id=a32c94a612&f_id=005dbbe3f0"
                method="post" target="_blank">

                <input type="email" name="EMAIL" placeholder="Enter your email" required class="form-control mb-3">

                <!-- Honeypot -->
                <div style="position:absolute; left:-5000px;">
                    <input type="text" name="b_46fe288fc56b228d74d7e7d16_a32c94a612" tabindex="-1" value="">
                </div>

                <button type="submit" class="shop-now-button btn btn-lg rounded-0 text-uppercase py-3 w-100">
                    Subscribe
                </button>

                <small class="text-muted d-block mt-3">
                    Unsubscribe anytime.
                </small>

            </form>

        </div>
    </div>
    <script>
        window.addEventListener("load", function () {

            const modal = document.getElementById("newsletterModal");

            if (!sessionStorage.getItem("newsletterShown")) {

                setTimeout(function () {
                    modal.style.display = "flex";
                    sessionStorage.setItem("newsletterShown", "true");
                }, 5000);

            }
        });

        function closeNewsletter() {
            document.getElementById("newsletterModal").style.display = "none";
        }
    </script>
    <script>
        function openNewsletter(event) {
            event.preventDefault();
            document.getElementById("newsletterModal").style.display = "flex";
        }

        function closeNewsletter() {
            document.getElementById("newsletterModal").style.display = "none";
        }
    </script>

</body>

</html>